<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Derniers Vidéos et TikToks</title>
    <style>

        h1 {
            color: #333;
        }
        .section {
            margin-bottom: 40px;
        }
        iframe {
            width: 100%;
            height: 315px;
            margin: 10px 0;
        }
        .tiktok-embed {
            width: 100%;
            max-width: 500px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>Derniers Streams, Vidéos et TikToks de @le_bisounours_</h1>

    <div class="section" id="twitch-streams">
        <h2>Derniers Streams Twitch</h2>
        <div id="streams"></div>
    </div>

    <div class="section" id="youtube-videos">
        <h2>Dernières Vidéos YouTube</h2>
        <div id="youtube"></div>
    </div>

    <div class="section" id="tiktok-videos">
        <h2>Derniers TikToks</h2>
        <div id="tiktok"></div>
    </div>

    <script>
        const twitchAccessToken = 'YOUR_TWITCH_ACCESS_TOKEN'; // Remplace par ton access token
        const twitchClientId = 'd0znha82ffol2ig5awou5rgeetng8z'; // Remplace par ton client ID
        const youtubeApiKey = 'AIzaSyAUTayyPnFTkgHEXwc64wUpSsJmLq7gzTk'; // Remplace par ta clé API YouTube

        // Fonction pour récupérer les derniers streams Twitch
        async function fetchTwitchStreams() {
            const response = await fetch('https://api.twitch.tv/helix/streams?user_login=le_bisounours_', {
                method: 'GET',
                headers: {
                    'Authorization': `Bearer ${twitchAccessToken}`,
                    'Client-ID': twitchClientId
                }
            });
            const data = await response.json();
            const streamsDiv = document.getElementById('streams');
            if (data.data.length === 0) {
                streamsDiv.innerHTML = '<p>Aucun stream en direct actuellement.</p>';
            } else {
                data.data.forEach(stream => {
                    const streamElement = document.createElement('div');
                    streamElement.innerHTML = `
                        <h3>${stream.title}</h3>
                        <iframe src="https://player.twitch.tv/?channel=${stream.user_name}&parent=localhost" frameborder="0" allowfullscreen="true" scrolling="no"></iframe>
                    `;
                    streamsDiv.appendChild(streamElement);
                });
            }
        }

        // Fonction pour récupérer les dernières vidéos YouTube
        async function fetchYoutubeVideos() {
            const response = await fetch(`https://www.googleapis.com/youtube/v3/search?key=${youtubeApiKey}&channelId=UCrelGcQYRhaJYsf9RdOyBQQ&part=snippet,id&order=date&maxResults=3`);
            const data = await response.json();
            const youtubeDiv = document.getElementById('youtube');
            data.items.forEach(video => {
                if (video.id.kind === "youtube#video") {
                    const videoElement = document.createElement('div');
                    videoElement.innerHTML = `
                        <h3>${video.snippet.title}</h3>
                        <iframe src="https://www.youtube.com/embed/${video.id.videoId}" frameborder="0" allowfullscreen></iframe>
                    `;
                    youtubeDiv.appendChild(videoElement);
                }
            });
        }

        // Fonction pour afficher les derniers TikToks
        function fetchTikTokVideos() {
            const tiktokDiv = document.getElementById('tiktok');
            const tiktokUrls = [
                'https://www.tiktok.com/@le_bisounours_/video/1234567890', // Remplace par les vrais liens
                'https://www.tiktok.com/@le_bisounours_/video/1234567891',
                'https://www.tiktok.com/@le_bisounours_/video/1234567892'
            ];
            tiktokUrls.forEach(url => {
                const tiktokElement = document.createElement('div');
                tiktokElement.innerHTML = `<blockquote class="tiktok-embed"><a href="${url}">Voir sur TikTok</a></blockquote>`;
                tiktokDiv.appendChild(tiktokElement);
            });
        }

        // Appel des fonctions pour récupérer les données
        fetchTwitchStreams();
        fetchYoutubeVideos();
        fetchTikTokVideos();
    </script>

    <script async src="https://www.tiktok.com/embed.js"></script>
</body>
</html>
