<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spotizer</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="Musique/Images/font.webp">
    <style>
        h1 {
            text-align: center;
            margin: 20px 0;
            color: #1DB954;
        }

        .music-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            padding: 20px;
            margin-bottom: 80px;
        }

        .music-item {
            width: 200px;
            background-color: #1E1E1E;
            border-radius: 8px;
            overflow: hidden;
            text-align: center;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
            transition: transform 0.2s;
        }

        .music-item:hover {
            transform: scale(1.05);
        }

        .music-item img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .music-title {
            padding: 10px;
            font-size: 16px;
            color: #fff;
        }

        /* Player bar */
        .player-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: #282828;
            padding: 10px 1px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.5);
        }

        .controls {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .controls button {
            background: none;
            border: none;
            padding: 5px;
            cursor: pointer;
        }

        .controls button img {
            width: 40px;
            height: 40px;
        }

        .time-control {
            flex-grow: 1;
            margin: 0 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .slider {
            width: 90%;
        }

        .volume-control {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-right: 10px;
        }

        .volume-control img {
            width: 25px;
            height: 25px;
        }

        .volume-control input {
            width: 150px;
        }

        /* Time Display */
        .time-display {
            font-size: 14px;
            color: #fff;
        }
    </style>
</head>
<body>
    <h1>ðŸŽµ Spotizer ðŸŽµ</h1>

    <div class="music-container" id="musicContainer">
    </div>

    <div class="player-bar">
        <div class="controls">
            <button onclick="previousTrack()">
                <img src="Musique/Images/avant.png" alt="PrÃ©cÃ©dent">
            </button>
            <button onclick="togglePlay()" id="playPauseButton">
                <img src="Musique/Images/play.png" alt="Lecture">
            </button>
            <button onclick="nextTrack()">
                <img src="Musique/Images/suivant.png" alt="Suivant">
            </button>
            <button onclick="toggleShuffle()">
                <img src="Musique/Images/shuffle.png" alt="AlÃ©atoire">
            </button>
        </div>

        <div class="time-control">
            <input type="range" id="seekBar" class="slider" min="0" max="100" value="0" oninput="seekMusic()">
            <span class="time-display" id="currentTime">00:00</span> / <span class="time-display" id="totalTime">00:00</span>
        </div>

        <div class="volume-control">
            <img src="Musique/Images/volume.png" alt="Volume">
            <input type="range" id="volumeBar" min="0" max="1" step="0.01" value="1" oninput="changeVolume()">
        </div>
    </div>

    <audio id="audioPlayer"></audio>

    <script>
        const musicContainer = document.getElementById("musicContainer");
        const audioPlayer = document.getElementById("audioPlayer");
        const seekBar = document.getElementById("seekBar");
        const volumeBar = document.getElementById("volumeBar");
        const playPauseButton = document.getElementById("playPauseButton");
        const currentTimeDisplay = document.getElementById("currentTime");
        const totalTimeDisplay = document.getElementById("totalTime");

        const musics = [
            { title: "Un quart d'heure", src: "Musique/Musique1.mp3", image: "Musique/Images/font1.png" },
            { title: "CÃ´te Ouest", src: "Musique/Musique2.mp3", image: "Musique/Images/font2.png" },
            { title: "Harakiri", src: "Musique/Musique3.mp3", image: "Musique/Images/font3.png" },
            { title: "Assieds toi", src: "Musique/Musique4.mp3", image: "Musique/Images/font4.png" },
            { title: "Jamais su", src: "Musique/Musique5.mp3", image: "Musique/Images/font5.png" },
            { title: "Soleil noir", src: "Musique/Musique6.mp3", image: "Musique/Images/font6.png" },
            { title: "Un air qui fait", src: "Musique/Musique7.mp3", image: "Musique/Images/font7.png" },
            { title: "1000Â°C", src: "Musique/Musique8.mp3", image: "Musique/Images/font8.png" },
            { title: "Wellerman (Sea Shanty)", src: "Musique/Musique9.mp3", image: "Musique/Images/font9.png" },
            { title: "Bienvenue dans la Secte", src: "Musique/Musique10.mp3", image: "Musique/Images/font10.png" },
            { title: "C'est pas grave", src: "Musique/Musique11.mp3", image: "Musique/Images/font11.png" },
            { title: "Chaque soir", src: "Musique/Musique12.mp3", image: "Musique/Images/font12.png" },
            { title: "I'm a Bad Man", src: "Musique/Musique13.mp3", image: "Musique/Images/font13.png" },
            { title: "Fairytale", src: "Musique/Musique14.mp3", image: "Musique/Images/font14.png" },
            { title: "Malade", src: "Musique/Musique15.mp3", image: "Musique/Images/font15.png" },
            { title: "Something In The Way", src: "Musique/Musique16.mp3", image: "Musique/Images/font16.png" },
            { title: "Smells Like Teen Spirit", src: "Musique/Musique17.mp3", image: "Musique/Images/font17.png" },
            { title: "Come As You Are", src: "Musique/Musique18.mp3", image: "Musique/Images/font18.png" },
            { title: "Dans l'univers", src: "Musique/Musique19.mp3", image: "Musique/Images/font19.png" },
            { title: "PoupÃ©e Russe", src: "Musique/Musique20.mp3", image: "Musique/Images/font20.png" },
        ];

        let currentTrackIndex = 0;
        let isPlaying = false;
        let isShuffle = false;

        musics.forEach((music, index) => {
            const musicItem = document.createElement("div");
            musicItem.className = "music-item";
            musicItem.innerHTML = ` 
                <img src="${music.image}" alt="Pochette de ${music.title}">
                <div class="music-title">${music.title}</div>
            `;
            musicItem.onclick = () => playTrack(index);
            musicContainer.appendChild(musicItem);
        });

        function playTrack(index) {
            currentTrackIndex = index;
            audioPlayer.src = musics[currentTrackIndex].src;
            audioPlayer.play();
            isPlaying = true;
            updatePlayPauseButton();
        }

        function togglePlay() {
            if (isPlaying) {
                audioPlayer.pause();
            } else {
                audioPlayer.play();
            }
            isPlaying = !isPlaying;
            updatePlayPauseButton();
        }

        function nextTrack() {
            if (isShuffle) {
                currentTrackIndex = Math.floor(Math.random() * musics.length);
            } else {
                currentTrackIndex = (currentTrackIndex + 1) % musics.length;
            }
            playTrack(currentTrackIndex);
        }

        function previousTrack() {
            currentTrackIndex = (currentTrackIndex - 1 + musics.length) % musics.length;
            playTrack(currentTrackIndex);
        }

        function toggleShuffle() {
            isShuffle = !isShuffle;
            alert(isShuffle ? "Lecture alÃ©atoire activÃ©e" : "Lecture alÃ©atoire dÃ©sactivÃ©e");
        }

        function seekMusic() {
            const seekTo = audioPlayer.duration * (seekBar.value / 100);
            audioPlayer.currentTime = seekTo;
        }

        function changeVolume() {
            audioPlayer.volume = volumeBar.value;
        }

        function updatePlayPauseButton() {
            const playPauseIcon = isPlaying ? "Musique/Images/pause.png" : "Musique/Images/play.png";
            playPauseButton.querySelector("img").src = playPauseIcon;
        }

        audioPlayer.addEventListener("timeupdate", () => {
            if (audioPlayer.duration) {
                seekBar.value = (audioPlayer.currentTime / audioPlayer.duration) * 100;

                // Mise Ã  jour du temps actuel
                const currentMinutes = Math.floor(audioPlayer.currentTime / 60);
                const currentSeconds = Math.floor(audioPlayer.currentTime % 60);
                currentTimeDisplay.textContent = `${currentMinutes}:${currentSeconds < 10 ? '0' + currentSeconds : currentSeconds}`;

                // Mise Ã  jour du temps total
                const totalMinutes = Math.floor(audioPlayer.duration / 60);
                const totalSeconds = Math.floor(audioPlayer.duration % 60);
                totalTimeDisplay.textContent = `${totalMinutes}:${totalSeconds < 10 ? '0' + totalSeconds : totalSeconds}`;
            }
        });

        audioPlayer.addEventListener("ended", () => {
            nextTrack();
        });
    </script>
</body>
</html>